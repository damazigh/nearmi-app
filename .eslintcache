[{"C:\\moz\\nearmi-app\\src\\index.js":"1","C:\\moz\\nearmi-app\\src\\App.js":"2","C:\\moz\\nearmi-app\\src\\serviceWorker.js":"3","C:\\moz\\nearmi-app\\src\\redux\\store.js":"4","C:\\moz\\nearmi-app\\src\\security\\secured.wrapper.js":"5","C:\\moz\\nearmi-app\\src\\pages\\shop\\create.shop.js":"6","C:\\moz\\nearmi-app\\src\\components\\navbar\\navbar.js":"7","C:\\moz\\nearmi-app\\src\\components\\snackbar\\snackbar-provider.js":"8","C:\\moz\\nearmi-app\\src\\redux\\reducer\\index.js":"9","C:\\moz\\nearmi-app\\src\\pages\\home\\home.js":"10","C:\\moz\\nearmi-app\\src\\components\\navbar\\navitem.js":"11","C:\\moz\\nearmi-app\\src\\redux\\action\\account.action.js":"12","C:\\moz\\nearmi-app\\src\\components\\account\\account.js":"13","C:\\moz\\nearmi-app\\src\\redux\\reducer\\shop.reducer.js":"14","C:\\moz\\nearmi-app\\src\\redux\\reducer\\account.reducer.js":"15","C:\\moz\\nearmi-app\\src\\components\\shop\\shop.stepper.js":"16","C:\\moz\\nearmi-app\\src\\components\\address\\address.js":"17","C:\\moz\\nearmi-app\\src\\redux\\type.js":"18","C:\\moz\\nearmi-app\\src\\redux\\action\\shop.actions.js":"19","C:\\moz\\nearmi-app\\src\\components\\snackbar\\use-snackbar.js":"20","C:\\moz\\nearmi-app\\src\\components\\shop\\steps\\address.step.js":"21","C:\\moz\\nearmi-app\\src\\components\\autocomplete\\autocomplete.js":"22","C:\\moz\\nearmi-app\\src\\service\\address.service.js":"23","C:\\moz\\nearmi-app\\src\\components\\shop\\steps\\openning.step.js":"24","C:\\moz\\nearmi-app\\src\\components\\shop\\steps\\general.step.js":"25","C:\\moz\\nearmi-app\\src\\components\\account\\language.js":"26","C:\\moz\\nearmi-app\\src\\components\\dropdown\\dropdown.menu.js":"27","C:\\moz\\nearmi-app\\src\\components\\dropdown\\dropdown-item\\dropdown.item.js":"28","C:\\moz\\nearmi-app\\src\\service\\axios-http.service.js":"29","C:\\moz\\nearmi-app\\src\\components\\control\\time.ctrl.js":"30","C:\\moz\\nearmi-app\\src\\redux\\selector\\shop.selector.js":"31","C:\\moz\\nearmi-app\\src\\i18n.js":"32","C:\\moz\\nearmi-app\\src\\components\\dialog\\alert.dialog.js":"33","C:\\moz\\nearmi-app\\src\\redux\\selector\\account.selector.js":"34","C:\\moz\\nearmi-app\\src\\components\\control\\text-field.ctrl.js":"35","C:\\moz\\nearmi-app\\src\\components\\upload\\upload.js":"36","C:\\moz\\nearmi-app\\src\\utils\\validator.js":"37","C:\\moz\\nearmi-app\\src\\utils\\utils.js":"38","C:\\moz\\nearmi-app\\src\\security\\keycloak.js":"39","C:\\moz\\nearmi-app\\src\\components\\loading\\loading.js":"40","C:\\moz\\nearmi-app\\src\\service\\shop.service.js":"41"},{"size":646,"mtime":1607034827020,"results":"42","hashOfConfig":"43"},{"size":2171,"mtime":1611352536040,"results":"44","hashOfConfig":"43"},{"size":5086,"mtime":499162500000,"results":"45","hashOfConfig":"43"},{"size":359,"mtime":1603126900843,"results":"46","hashOfConfig":"43"},{"size":354,"mtime":1611175983439,"results":"47","hashOfConfig":"43"},{"size":389,"mtime":1610793102958,"results":"48","hashOfConfig":"43"},{"size":1632,"mtime":1607172413813,"results":"49","hashOfConfig":"43"},{"size":979,"mtime":1607464202598,"results":"50","hashOfConfig":"43"},{"size":234,"mtime":1610582650598,"results":"51","hashOfConfig":"43"},{"size":145,"mtime":1610653226620,"results":"52","hashOfConfig":"43"},{"size":509,"mtime":1603207414405,"results":"53","hashOfConfig":"43"},{"size":303,"mtime":1610636640268,"results":"54","hashOfConfig":"43"},{"size":1385,"mtime":1610827559902,"results":"55","hashOfConfig":"43"},{"size":1151,"mtime":1611174308966,"results":"56","hashOfConfig":"43"},{"size":893,"mtime":1607359910020,"results":"57","hashOfConfig":"43"},{"size":4450,"mtime":1611353131527,"results":"58","hashOfConfig":"43"},{"size":5378,"mtime":1611175400789,"results":"59","hashOfConfig":"43"},{"size":549,"mtime":1611174178176,"results":"60","hashOfConfig":"43"},{"size":865,"mtime":1611174208284,"results":"61","hashOfConfig":"43"},{"size":186,"mtime":1607458966583,"results":"62","hashOfConfig":"43"},{"size":1021,"mtime":1611353487677,"results":"63","hashOfConfig":"43"},{"size":519,"mtime":1610445447857,"results":"64","hashOfConfig":"43"},{"size":469,"mtime":1607464594354,"results":"65","hashOfConfig":"43"},{"size":6754,"mtime":1611178347016,"results":"66","hashOfConfig":"43"},{"size":6453,"mtime":1611175717236,"results":"67","hashOfConfig":"43"},{"size":1625,"mtime":1603208160141,"results":"68","hashOfConfig":"43"},{"size":1907,"mtime":1610445723020,"results":"69","hashOfConfig":"43"},{"size":1237,"mtime":1610445440792,"results":"70","hashOfConfig":"43"},{"size":836,"mtime":1611352119044,"results":"71","hashOfConfig":"43"},{"size":333,"mtime":1610471607916,"results":"72","hashOfConfig":"43"},{"size":461,"mtime":1611173910314,"results":"73","hashOfConfig":"43"},{"size":713,"mtime":1610384621019,"results":"74","hashOfConfig":"43"},{"size":1992,"mtime":1610651460002,"results":"75","hashOfConfig":"43"},{"size":80,"mtime":1603126643267,"results":"76","hashOfConfig":"43"},{"size":1279,"mtime":1610617909892,"results":"77","hashOfConfig":"43"},{"size":732,"mtime":1610579340137,"results":"78","hashOfConfig":"43"},{"size":1576,"mtime":1610405178376,"results":"79","hashOfConfig":"43"},{"size":791,"mtime":1611353568598,"results":"80","hashOfConfig":"43"},{"size":239,"mtime":1611350959434,"results":"81","hashOfConfig":"43"},{"size":183,"mtime":1610826737503,"results":"82","hashOfConfig":"43"},{"size":1370,"mtime":1611353206908,"results":"83","hashOfConfig":"43"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},"a32xu3",{"filePath":"87","messages":"88","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"97","usedDeprecatedRules":"86"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114","usedDeprecatedRules":"86"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"135","usedDeprecatedRules":"86"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"138","usedDeprecatedRules":"86"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"143","usedDeprecatedRules":"86"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"162","usedDeprecatedRules":"86"},{"filePath":"163","messages":"164","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"165","messages":"166","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"167","messages":"168","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"169","messages":"170","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"171","usedDeprecatedRules":"86"},{"filePath":"172","messages":"173","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\moz\\nearmi-app\\src\\index.js",[],["174","175"],"C:\\moz\\nearmi-app\\src\\App.js",["176"],"C:\\moz\\nearmi-app\\src\\serviceWorker.js",[],"C:\\moz\\nearmi-app\\src\\redux\\store.js",[],"C:\\moz\\nearmi-app\\src\\security\\secured.wrapper.js",[],"C:\\moz\\nearmi-app\\src\\pages\\shop\\create.shop.js",["177","178","179"],"import React, { useEffect } from 'react';\r\nimport { FormProvider, useForm } from 'react-hook-form';\r\nimport ShopStepper from '../../components/shop/shop.stepper';\r\n\r\nexport default function CreateShop() {\r\n  const methods = useForm({ mode: 'all' });\r\n  const { watch, errors } = methods;\r\n\r\n  return (\r\n    <FormProvider {...methods}>\r\n      <ShopStepper />\r\n    </FormProvider>\r\n  );\r\n}\r\n","C:\\moz\\nearmi-app\\src\\components\\navbar\\navbar.js",[],"C:\\moz\\nearmi-app\\src\\components\\snackbar\\snackbar-provider.js",[],"C:\\moz\\nearmi-app\\src\\redux\\reducer\\index.js",[],"C:\\moz\\nearmi-app\\src\\pages\\home\\home.js",[],"C:\\moz\\nearmi-app\\src\\components\\navbar\\navitem.js",[],"C:\\moz\\nearmi-app\\src\\redux\\action\\account.action.js",[],"C:\\moz\\nearmi-app\\src\\components\\account\\account.js",[],"C:\\moz\\nearmi-app\\src\\redux\\reducer\\shop.reducer.js",["180","181"],"import {\r\n  ADDRESS_UPDATED,\r\n  CREATE_SHOP,\r\n  HANDLED_NEXT_SHOP_CREATION_STEP,\r\n  NEXT_SHOP_CREATION_STEP,\r\n  RESTORE_FORM_VALUE,\r\n  RESTORE_FORM_VALUE_COMPLETED,\r\n} from '../type';\r\n\r\nconst initialState = {\r\n  creation: {\r\n    navigationNextShop: false,\r\n    restoreFormValues: false,\r\n    submitCreation: false,\r\n  },\r\n  address: null,\r\n};\r\nlet newState = null;\r\nexport default function shopReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case NEXT_SHOP_CREATION_STEP:\r\n      console.info('salut' + action.type);\r\n      newState = Object.assign({}, state);\r\n      newState.creation.navigationNextShop = true;\r\n      return newState;\r\n    case HANDLED_NEXT_SHOP_CREATION_STEP:\r\n      newState = Object.assign({}, state);\r\n      newState.creation.navigationNextShop = false;\r\n      return newState;\r\n    case ADDRESS_UPDATED:\r\n      newState = Object.assign({}, state);\r\n      newState.address = action.address;\r\n      return newState;\r\n    case CREATE_SHOP:\r\n      newState = Object.assign({}, state);\r\n      newState.creation.submitCreation = true;\r\n      return newState;\r\n    default:\r\n      return initialState;\r\n  }\r\n}\r\n","C:\\moz\\nearmi-app\\src\\redux\\reducer\\account.reducer.js",[],"C:\\moz\\nearmi-app\\src\\components\\shop\\shop.stepper.js",["182","183","184","185"],"C:\\moz\\nearmi-app\\src\\components\\address\\address.js",[],"C:\\moz\\nearmi-app\\src\\redux\\type.js",[],"C:\\moz\\nearmi-app\\src\\redux\\action\\shop.actions.js",[],"C:\\moz\\nearmi-app\\src\\components\\snackbar\\use-snackbar.js",[],"C:\\moz\\nearmi-app\\src\\components\\shop\\steps\\address.step.js",[],"C:\\moz\\nearmi-app\\src\\components\\autocomplete\\autocomplete.js",[],"C:\\moz\\nearmi-app\\src\\service\\address.service.js",[],"C:\\moz\\nearmi-app\\src\\components\\shop\\steps\\openning.step.js",["186"],"import {\r\n  FormControl,\r\n  FormControlLabel,\r\n  FormGroup,\r\n  FormLabel,\r\n  Grid,\r\n  Grow,\r\n  Paper,\r\n  Switch,\r\n} from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useFormContext } from 'react-hook-form';\r\nimport { useTranslation } from 'react-i18next';\r\nimport TimeControl from '../../control/time.ctrl';\r\nimport './step.css';\r\n\r\nexport default function OpenningStep() {\r\n  const methods = useFormContext();\r\n  const { setValue, register, getValues } = methods;\r\n  const { t } = useTranslation();\r\n  const [lunchClosure, setLunchClosure] = useState(false);\r\n  const [schedulingAppointment, setSchedulingAppointment] = useState(false);\r\n  const [automaticOrderConfirmation, setAutomaticOrderConfirmation] = useState(\r\n    false\r\n  );\r\n\r\n  useEffect(() => {\r\n    const valAsString = sessionStorage.getItem('step_1');\r\n    if (valAsString) {\r\n      const values = JSON.parse(valAsString);\r\n      Object.keys(values).forEach((key) => {\r\n        const val = values[key];\r\n        if (val) {\r\n          setValue(key, val, { shouldValidate: true });\r\n        }\r\n      });\r\n    }\r\n    /**\r\n     * particular case set state from form variable for lunch closure\r\n     */\r\n    setLunchClosure(!!getValues('lunchClosure'));\r\n  }, []);\r\n\r\n  const displayClosureTime = () => {\r\n    if (!lunchClosure) {\r\n      return (\r\n        <Grid container spacing={4}>\r\n          <Grid item md={4} sm={6} xs={6}>\r\n            <TimeControl\r\n              name=\"lunchClosesAt\"\r\n              label={t('pages.createShop.components.openningStep.lunchClosure')}\r\n              className=\"full-width\"\r\n              defaultValue=\"13:00\"\r\n              rules={{ required: true }}\r\n              messages={{ required: t('validation.commons.required') }}\r\n            />\r\n          </Grid>\r\n          <Grid item md={4} sm={6} xs={6}>\r\n            <TimeControl\r\n              name=\"lunchReopensAt\"\r\n              label={t('pages.createShop.components.openningStep.lunchReopen')}\r\n              className=\"full-width\"\r\n              defaultValue=\"14:00\"\r\n              rules={{ required: true }}\r\n              messages={{ required: t('validation.commons.required') }}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      );\r\n    }\r\n    return <></>;\r\n  };\r\n  return (\r\n    <Grow in={true} mountOnEnter unmountOnExit>\r\n      <form novalidate>\r\n        <Paper elevation={5} className=\"paper-spacing paper-width\">\r\n          <Grid container spacing={4}>\r\n            <Grid item md={4} sm={6} xs={6}>\r\n              <TimeControl\r\n                name=\"opensAt\"\r\n                label={t('pages.createShop.components.openningStep.opensAt')}\r\n                className=\"full-width\"\r\n                defaultValue=\"09:00\"\r\n                rules={{ required: true }}\r\n                messages={{ required: t('validation.commons.required') }}\r\n              />\r\n            </Grid>\r\n            <Grid item md={4} sm={6} xs={6}>\r\n              <TimeControl\r\n                name=\"closesAt\"\r\n                label={t('pages.createShop.components.openningStep.closesAt')}\r\n                className=\"full-width\"\r\n                defaultValue=\"18:00\"\r\n                rules={{ required: true }}\r\n                messages={{ required: t('validation.commons.required') }}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container spacing={4}>\r\n            <Grid item md={4} sm={6} xs={8}>\r\n              <FormControl component=\"fieldset\">\r\n                <FormLabel component=\"legend\">\r\n                  {t(\r\n                    'pages.createShop.components.openningStep.askLunchClosure'\r\n                  )}\r\n                </FormLabel>\r\n                <FormGroup>\r\n                  <FormControlLabel\r\n                    control={<Switch inputRef={register} name=\"lunchClosure\" />}\r\n                    onChange={() => setLunchClosure(!lunchClosure)}\r\n                    checked={lunchClosure}\r\n                    label={\r\n                      lunchClosure\r\n                        ? t(\r\n                            'pages.createShop.components.openningStep.openedAtLunch'\r\n                          )\r\n                        : t(\r\n                            'pages.createShop.components.openningStep.closedAtLunch'\r\n                          )\r\n                    }\r\n                  />\r\n                </FormGroup>\r\n              </FormControl>\r\n            </Grid>\r\n          </Grid>\r\n          {displayClosureTime()}\r\n          <Grid container spacing={4}>\r\n            <Grid item md={12} sm={12} xs={12}>\r\n              <FormControl component=\"fieldset\">\r\n                <FormLabel component=\"legend\">\r\n                  {t('pages.createShop.components.openningStep.otherSettings')}\r\n                </FormLabel>\r\n                <FormGroup>\r\n                  <FormControlLabel\r\n                    control={\r\n                      <Switch\r\n                        name=\"schedulingAppointement\"\r\n                        inputRef={register}\r\n                      />\r\n                    }\r\n                    onChange={() =>\r\n                      setSchedulingAppointment(!schedulingAppointment)\r\n                    }\r\n                    checked={schedulingAppointment}\r\n                    label={\r\n                      schedulingAppointment\r\n                        ? t(\r\n                            'pages.createShop.components.openningStep.schedulingAppointment'\r\n                          )\r\n                        : t(\r\n                            'pages.createShop.components.openningStep.notSchedulingAppointment'\r\n                          )\r\n                    }\r\n                  />\r\n                </FormGroup>\r\n\r\n                <FormGroup>\r\n                  <FormControlLabel\r\n                    control={\r\n                      <Switch\r\n                        name=\"automaticOrderConfirmation\"\r\n                        inputRef={register}\r\n                      />\r\n                    }\r\n                    onChange={() =>\r\n                      setAutomaticOrderConfirmation(!automaticOrderConfirmation)\r\n                    }\r\n                    checked={automaticOrderConfirmation}\r\n                    label={\r\n                      automaticOrderConfirmation\r\n                        ? t(\r\n                            'pages.createShop.components.openningStep.automaticConfirmationOrder'\r\n                          )\r\n                        : t(\r\n                            'pages.createShop.components.openningStep.manualConfrimationOrder'\r\n                          )\r\n                    }\r\n                  />\r\n                </FormGroup>\r\n              </FormControl>\r\n            </Grid>\r\n          </Grid>\r\n        </Paper>\r\n      </form>\r\n    </Grow>\r\n  );\r\n}\r\n","C:\\moz\\nearmi-app\\src\\components\\shop\\steps\\general.step.js",["187"],"import { Grid, Grow, Paper } from '@material-ui/core';\r\nimport React, { useEffect } from 'react';\r\nimport { useFormContext } from 'react-hook-form';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { format } from '../../../utils/utils';\r\nimport './step.css';\r\nimport TextFieldControl from '../../control/text-field.ctrl';\r\nimport { useState } from 'react';\r\nimport {\r\n  numericWithoutSpace,\r\n  luhn,\r\n  lengthWithoutSpace,\r\n} from '../../../utils/validator';\r\nimport { Upload } from '../../upload/upload';\r\nimport { AlertDialog } from '../../dialog/alert.dialog';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { shopCreationNextStepSelector } from '../../../redux/selector/shop.selector';\r\nimport { handledNextStep } from '../../../redux/action/shop.actions';\r\n\r\nexport default function GeneralStep(props) {\r\n  const methods = useFormContext();\r\n  const { setValue } = methods;\r\n  const [regNumVal, setRegNumVal] = useState('');\r\n  const { t } = useTranslation();\r\n  const nextStep = useSelector(shopCreationNextStepSelector);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const valuesAsString = sessionStorage.getItem('step_0');\r\n    if (valuesAsString) {\r\n      const values = JSON.parse(valuesAsString);\r\n      Object.keys(values).forEach((key) => {\r\n        const val = values[key];\r\n        if (val) {\r\n          setValue(key, val, { shouldValidate: true });\r\n        }\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const insertSpaceAt = (val, at) => {\r\n    if (\r\n      val &&\r\n      (val.length === at || (val.charAt(at) !== ' ' && val.length > at))\r\n    ) {\r\n      val = val.substring(0, at) + ' ' + val.substring(at, val.length);\r\n      return val;\r\n    }\r\n    return val;\r\n  };\r\n  const formatRegistration = (e) => {\r\n    let newVal = e.target.value;\r\n    const isDelete = regNumVal.length > newVal.length;\r\n    if (e.target.value && !isDelete) {\r\n      newVal = insertSpaceAt(newVal, 3);\r\n      newVal = insertSpaceAt(newVal, 7);\r\n      newVal = insertSpaceAt(newVal, 11);\r\n      e.target.value = newVal;\r\n    }\r\n    setRegNumVal(newVal);\r\n  };\r\n\r\n  const shouldDisplayAlert = (id) => {\r\n    const elt = document.getElementById(`#${id}`);\r\n    if (!elt || !elt.value) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * handle ignore warn (alert) when user hits\r\n   * continue button\r\n   */\r\n  const onContinue = () => {\r\n    props.continueCallback();\r\n    dispatch(handledNextStep());\r\n  };\r\n\r\n  const onCancel = () => {\r\n    dispatch(handledNextStep());\r\n    console.info('yolo !!!');\r\n    console.info(nextStep);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Grow mountOnEnter in={true} unmountOnExit>\r\n        <form noValidate>\r\n          <Paper elevation={5} className=\"paper-spacing paper-width\">\r\n            <Grid container spacing={4} className=\"center-xs\">\r\n              <Grid item md={6} sm={6} xs={11}>\r\n                <TextFieldControl\r\n                  name=\"shopName\"\r\n                  required\r\n                  className=\"full-width\"\r\n                  label={t('pages.createShop.components.generalStep.shopName')}\r\n                  placeholder={t(\r\n                    'pages.createShop.components.generalStep.shopNamePlaceholder'\r\n                  )}\r\n                  rules={{ required: true, minLength: 2 }}\r\n                  messages={{\r\n                    required: t('validation.commons.required'),\r\n                    minLength: format(t('validation.commons.minLength'), [2]),\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid item md={6} sm={6} xs={11}>\r\n                <TextFieldControl\r\n                  name=\"shopshorDesc\"\r\n                  required\r\n                  className=\"full-width\"\r\n                  label={t('pages.createShop.components.generalStep.shortDesc')}\r\n                  placeholder={t(\r\n                    'pages.createShop.components.generalStep.shortDescPlaceholder'\r\n                  )}\r\n                  rules={{ required: true }}\r\n                  messages={{\r\n                    required: t('validation.commons.required'),\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid item md={10} sm={10} xs={11}>\r\n                <TextFieldControl\r\n                  name=\"shopLongDesc\"\r\n                  className=\"full-width\"\r\n                  label={t('pages.createShop.components.generalStep.longDesc')}\r\n                  placeholder={t(\r\n                    'pages.createShop.components.generalStep.longDescPlaceholder'\r\n                  )}\r\n                  multiline\r\n                />\r\n              </Grid>\r\n              <Grid item md={6} sm={6} xs={11}>\r\n                <TextFieldControl\r\n                  name=\"shopRegNum\"\r\n                  required\r\n                  className=\"full-width\"\r\n                  label={t(\r\n                    'pages.createShop.components.generalStep.registrationNumber'\r\n                  )}\r\n                  placeholder={t(\r\n                    'pages.createShop.components.generalStep.registrationNumberPlaceholder'\r\n                  )}\r\n                  value={regNumVal}\r\n                  onChange={(e) => formatRegistration(e)}\r\n                  rules={{\r\n                    required: true,\r\n                    validate: {\r\n                      numeric: (val) => numericWithoutSpace(val),\r\n                      length: (val) => lengthWithoutSpace(val, 14),\r\n                      luhn: (val) => luhn(val),\r\n                    },\r\n                  }}\r\n                  messages={{\r\n                    required: t('validation.commons.required'),\r\n                    numeric: t('validation.commons.numeric'),\r\n                    length: format(t('validation.commons.length'), [14]),\r\n                    luhn: t('validation.createShop.invalidRegNum'),\r\n                  }}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container spacing={4} className=\"center-xs\">\r\n              <Grid item md={6} sm={6} xs={11}>\r\n                <Upload name=\"image\" label=\"image\" id=\"mainShopImage\" />\r\n              </Grid>\r\n            </Grid>\r\n          </Paper>\r\n        </form>\r\n      </Grow>\r\n      <AlertDialog\r\n        id=\"shopImage\"\r\n        isOpen={nextStep && shouldDisplayAlert('shopImage')}\r\n        onContinue={onContinue}\r\n        onCancel={onCancel}\r\n        textContentKey=\"feedback.shopWithoutImage\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","C:\\moz\\nearmi-app\\src\\components\\account\\language.js",[],"C:\\moz\\nearmi-app\\src\\components\\dropdown\\dropdown.menu.js",["188"],"import React, { useRef, useEffect } from 'react';\r\nimport DropdownItem from './dropdown-item/dropdown.item';\r\nimport './dropdown.menu.css';\r\nimport ChevronRight from '@material-ui/icons/ChevronRight';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\n// import TouchRipple from '@material-ui/core/ButtonBase/TouchRipple';\r\n\r\nfunction DropdownMenu(props) {\r\n  const dropdownRef = useRef(null);\r\n  useEffect(() => {\r\n    props.setMenuHeight(dropdownRef.current?.firstChild.offsetHeight + 17);\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      className=\"dropdown\"\r\n      style={{ height: props.menuHeight }}\r\n      ref={dropdownRef}\r\n    >\r\n      {props.children}\r\n    </div>\r\n  );\r\n}\r\nexport function DropdownMenuMain(props) {\r\n  function calcHeight(el) {\r\n    const height = el.offsetHeight + 17;\r\n    props.setMenuHeight(height);\r\n  }\r\n  return (\r\n    <CSSTransition\r\n      in={props.activeMenu === 'main'}\r\n      timeout={500}\r\n      classNames=\"menu-primary\"\r\n      onEnter={calcHeight}\r\n      unmountOnExit\r\n    >\r\n      <div>{props.children}</div>\r\n    </CSSTransition>\r\n  );\r\n}\r\nexport function DropdownSubMenu(props) {\r\n  return (\r\n    <CSSTransition\r\n      in={props.activeMenu === props.id}\r\n      timeout={500}\r\n      classNames=\"menu-secondary\"\r\n      unmountOnExit\r\n    >\r\n      <div className=\"menu\">\r\n        <DropdownItem\r\n          leftIconClass=\"left-icon-secondary\"\r\n          setActiveMenu={props.setActiveMenu}\r\n          goToMenu=\"main\"\r\n          leftIcon={<ChevronRight />}\r\n          byPassWrapper={true}\r\n        >\r\n          <span className=\"flex pointer\">\r\n            <ArrowBackIcon className=\"little-right\" />\r\n            {props.title}\r\n          </span>\r\n        </DropdownItem>\r\n        <hr className=\"divider\" />\r\n        {props.children}\r\n      </div>\r\n    </CSSTransition>\r\n  );\r\n}\r\nexport default DropdownMenu;\r\n","C:\\moz\\nearmi-app\\src\\components\\dropdown\\dropdown-item\\dropdown.item.js",[],"C:\\moz\\nearmi-app\\src\\service\\axios-http.service.js",[],"C:\\moz\\nearmi-app\\src\\components\\control\\time.ctrl.js",[],"C:\\moz\\nearmi-app\\src\\redux\\selector\\shop.selector.js",[],"C:\\moz\\nearmi-app\\src\\i18n.js",[],"C:\\moz\\nearmi-app\\src\\components\\dialog\\alert.dialog.js",[],"C:\\moz\\nearmi-app\\src\\redux\\selector\\account.selector.js",[],"C:\\moz\\nearmi-app\\src\\components\\control\\text-field.ctrl.js",[],"C:\\moz\\nearmi-app\\src\\components\\upload\\upload.js",["189"],"import React from 'react';\r\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\r\nimport TextFieldControl from '../control/text-field.ctrl';\r\nexport function Upload(props) {\r\n  return (\r\n    <div>\r\n      <label htmlFor=\"upload\">\r\n        <input\r\n          style={{ display: 'none' }}\r\n          id={props.upload}\r\n          name=\"upload\"\r\n          type=\"file\"\r\n        />\r\n\r\n        <TextFieldControl\r\n          className=\"pointer\"\r\n          label={props.label}\r\n          name={props.name}\r\n          className=\"full-width\"\r\n          InputProps={{\r\n            endAdornment: <AddAPhotoIcon color=\"primary\" className=\"pointer\" />,\r\n            readOnly: true,\r\n          }}\r\n        />\r\n      </label>\r\n    </div>\r\n  );\r\n}\r\n","C:\\moz\\nearmi-app\\src\\utils\\validator.js",[],"C:\\moz\\nearmi-app\\src\\utils\\utils.js",[],"C:\\moz\\nearmi-app\\src\\security\\keycloak.js",[],"C:\\moz\\nearmi-app\\src\\components\\loading\\loading.js",["190"],"import { LinearProgress, makeStyles } from '@material-ui/core';\r\nimport React from 'react';\r\n\r\nexport default function Loading() {\r\n  return <LinearProgress color=\"secondary\" />;\r\n}\r\n","C:\\moz\\nearmi-app\\src\\service\\shop.service.js",[],{"ruleId":"191","replacedBy":"192"},{"ruleId":"193","replacedBy":"194"},{"ruleId":"195","severity":1,"message":"196","line":31,"column":5,"nodeType":"197","messageId":"198","endLine":41,"endColumn":6},{"ruleId":"199","severity":1,"message":"200","line":1,"column":17,"nodeType":"201","messageId":"202","endLine":1,"endColumn":26},{"ruleId":"199","severity":1,"message":"203","line":7,"column":11,"nodeType":"201","messageId":"202","endLine":7,"endColumn":16},{"ruleId":"199","severity":1,"message":"204","line":7,"column":18,"nodeType":"201","messageId":"202","endLine":7,"endColumn":24},{"ruleId":"199","severity":1,"message":"205","line":6,"column":3,"nodeType":"201","messageId":"202","endLine":6,"endColumn":21},{"ruleId":"199","severity":1,"message":"206","line":7,"column":3,"nodeType":"201","messageId":"202","endLine":7,"endColumn":31},{"ruleId":"199","severity":1,"message":"207","line":15,"column":23,"nodeType":"201","messageId":"202","endLine":15,"endColumn":34},{"ruleId":"199","severity":1,"message":"208","line":28,"column":26,"nodeType":"201","messageId":"202","endLine":28,"endColumn":35},{"ruleId":"195","severity":1,"message":"196","line":37,"column":5,"nodeType":"197","messageId":"198","endLine":47,"endColumn":6},{"ruleId":"195","severity":1,"message":"196","line":71,"column":5,"nodeType":"197","messageId":"198","endLine":83,"endColumn":6},{"ruleId":"209","severity":1,"message":"210","line":42,"column":6,"nodeType":"211","endLine":42,"endColumn":8,"suggestions":"212"},{"ruleId":"209","severity":1,"message":"213","line":39,"column":6,"nodeType":"211","endLine":39,"endColumn":8,"suggestions":"214"},{"ruleId":"209","severity":1,"message":"215","line":13,"column":6,"nodeType":"211","endLine":13,"endColumn":8,"suggestions":"216"},{"ruleId":"217","severity":1,"message":"218","line":19,"column":11,"nodeType":"219","endLine":19,"endColumn":33},{"ruleId":"199","severity":1,"message":"220","line":1,"column":26,"nodeType":"201","messageId":"202","endLine":1,"endColumn":36},"no-native-reassign",["221"],"no-negated-in-lhs",["222"],"default-case","Expected a default case.","SwitchStatement","missingDefaultCase","no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'watch' is assigned a value but never used.","'errors' is assigned a value but never used.","'RESTORE_FORM_VALUE' is defined but never used.","'RESTORE_FORM_VALUE_COMPLETED' is defined but never used.","'useSelector' is defined but never used.","'formState' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'getValues' and 'setValue'. Either include them or remove the dependency array.","ArrayExpression",["223"],"React Hook useEffect has a missing dependency: 'setValue'. Either include it or remove the dependency array.",["224"],"React Hook useEffect has a missing dependency: 'props'. Either include it or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.",["225"],"react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","'makeStyles' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"226","fix":"227"},{"desc":"228","fix":"229"},{"desc":"230","fix":"231"},"Update the dependencies array to be: [getValues, setValue]",{"range":"232","text":"233"},"Update the dependencies array to be: [setValue]",{"range":"234","text":"235"},"Update the dependencies array to be: [props]",{"range":"236","text":"237"},[1260,1262],"[getValues, setValue]",[1444,1446],"[setValue]",[564,566],"[props]"]